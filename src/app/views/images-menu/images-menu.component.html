<c-row ngPreserveWhitespaces>
  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-header>
        <strong>Search</strong>
      </c-card-header>
      <c-card-body>
        <form cRow (ngSubmit)="onSubmitFilter()">
          <div class="mb-3">
            <label cLabel class="visually-hidden" for="inlineFormInputGroupUsername">
              Image Title
            </label>
            <c-input-group>
              <span cInputGroupText>Image Title</span>
              <input cFormControl id="inlineFormInputGroupUsername"
                     [(ngModel)]="title"
                     placeholder="Input image title here" name="title"
              />
            </c-input-group>
          </div>
          <div class="mb-3">
            <label cLabel for="coordinate">
              Coordinate
              <c-form-check>
                <input [checked]="useCoordinateSearch" [(ngModel)]="useCoordinateSearch" cFormCheckInput
                       id="useCoordinateSearch"
                       type="checkbox"
                       name="useCoordinateSearch"
                />
                <label cFormCheckLabel for="useCoordinateSearch">Use Coordinate Search</label>
              </c-form-check>
            </label>
            <app-map-example id="coordinate" (latLongClicked)="handleLatLongClicked($event)"
                             [useCoordinateValue]="useCoordinateSearch"
                             [mapId]="'image-menu-map'"
            ></app-map-example>
          </div>
          <div class="mb-3">
            <button cButton type="submit">Submit</button>
          </div>
        </form>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>

<c-row ngPreserveWhitespaces>
  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-header>
        <strong>Images</strong>
      </c-card-header>
      <c-card-body>
        <div class="mat-elevation-z8">
          <table mat-table [dataSource]="dataSource" matSort>
            <!-- Name Column -->
            <ng-container matColumnDef="preview">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Preview</th>
              <td mat-cell *matCellDef="let row">
                <img class="image-preview" [src]="row.id | imageThumbnail | async" [alt]="row.id">
              </td>
            </ng-container>

            <!-- Progress Column -->
            <ng-container matColumnDef="title">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Title</th>
              <td mat-cell *matCellDef="let row"> {{row.title}} </td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="coordinate">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Coordinate</th>
              <td mat-cell *matCellDef="let row"> ({{row.latitude}} , {{row.longitude}})</td>
            </ng-container>

            <!-- Fruit Column -->
            <ng-container matColumnDef="bundle">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> Bundle</th>
              <td mat-cell *matCellDef="let row">
                <c-badge *ngIf="row.productLevel === 'FREE'" color="info">{{ row.productLevel }}</c-badge>
                <c-badge *ngIf="row.productLevel === 'PRO'" color="success">{{ row.productLevel }}</c-badge>
                <c-badge *ngIf="row.productLevel === 'PREMIUM'" color="primary">{{ row.productLevel }}</c-badge>
              </td>
            </ng-container>

            <ng-container matColumnDef="view">
              <th mat-header-cell *matHeaderCellDef mat-sort-header> View Total</th>
              <td mat-cell *matCellDef="let row">
                <button class="btn btn-primary" (click)="testingApi()">View</button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

            <!-- Row shown when there is no matching data. -->
          </table>

          <mat-paginator
            #paginator
            [pageSizeOptions]="pageSizeOptions"
            [pageIndex]="pageIndex"
            [pageSize]="pageSize"
            [length]="totalItems"
            [showFirstLastButtons]="true"
            (page)="onPageChange($event)"
            aria-label="Select page of users">
          </mat-paginator>
        </div>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>
